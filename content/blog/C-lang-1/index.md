---
title: C-through - 1.1. 개론
date: "2021-06-25T00:00:00Z"
description: "부제 : C언어와 떠나는 지옥 여행 - 1.1 개론"
tags: ["C", "language"]
---

C언어를 배운 지 어느덧 1년 정도 되었다. 하지만 나는 여전히 C언어를 잘하지 못한다. 그저 백준을 푸는 데에 깔짝깔짝 쓰고 있을 뿐이다.
그래서 이번 여름방학을 맞아 초심으로 돌아가 C언어를 복습하면서 블로그에 그 내용을 정리하기로 했다.
다만 내가 복습하면서 쓰는 것이므로 프로그래밍을 완전히 처음 시작하는 사람이 보기에는 배려가 부족한 글이 될 것이다. 구글링을 애용하자.

교재는 흔히 C언어의 바이블 중 하나라고 꼽히는 K&R을 사용할 것이며 내가 지금까지 주워들었던 지식들도 간간이 서술할 예정이다.
책 내용을 적당히 마무리하고 나면 자료구조라든지 C언어로 구현하는 간단한 여러가지 등을 서술하면 좋을 것 같다고 생각하고 있다.

이때 K&R에서는 터미널에서 컴파일하는 방식으로 가르치고 있으므로 나는 wsl에서 돌아가는 Ubuntu 터미널을 사용할 것이다.
에디터로는 vscode를 사용할 것이다.

흔히 C언어를 처음 시작할 때 사용하는 비주얼 스튜디오를 사용해도 상관없다. 이런 게 궁금하면 구글링을 해보면 된다. 좋은 글이 많다.
C언어의 소개나 세팅 강의 같은 건 할 시간 없고, 바로 시작한다.


컴퓨터는 기본적으로 우리가 지시하는 연산을 순서대로 처리할 뿐인 기계이다. 그리고 C언어는 컴퓨터에게 우리가 원하는 연산을 지시할 수 있는 도구 중 하나이다.
이때 우리가 C언어로 내리는 지시는 얼마나 복잡한 지시건에 상관없이 함수(function)와 변수(variable)들로 이루어진다.

그럼 그 함수와 변수는 무엇일까?
함수는 어떤 작업과 어떤 연산을 할 것인지를 컴퓨터에 알려주는 문(statement)들로 구성되어 있는 요소이다.
그리고 변수는 그런 작업에 필요한 값들을 저장하고 있다.
개념만 설명하니까 굉장히 어려운 것 같다. 쉬운 이해를 위해 예시를 들어 보자.

`1+2`를 계산한다고 생각해 보자. 거의 누구나가 3이라고 대답할 수 있을 것이다. 하지만 이를 뜯어서 생각해 보면 우리는 덧셈이라는 2항 연산을
1과 2를 대상으로 실행한 것이다. 즉 덧셈이라는 작업을 지시하는 것이 함수이고, 그 대상이 되는 값인 1과 2가 변수에 해당하는 것이라고 보면 된다.
이런 식으로 변수에 있는 값들을 이용해서 함수에서 여러가지 작업을 하는 것이 바로 프로그래밍인 것이다.

그러면 이제 긴 문법 설명보다 먼저, 한번 직접 프로그램을 작성해 보자. 프로그래밍의 매력은 내가 한 작업을 바로바로 볼 수 있다는 것이다.

우리가 처음 작성할 프로그램은 `hello, world`를 출력해 주는 것이다.
일단 에디터에서 이를 따라 쳐 보자.

```c
#include <stdio.h>

main()
{
    printf("hello, world\n");
}
```

> C언어를 조금 배워본 사람이라면 위 코드를 보고 극대노할 수도 있다. main함수의 반환값 자료형이 없다는 이유에서이다. 또 리턴값도 없다.
> 하지만 C가 처음 나올 당시의 표준에 의하면 `implicit int rule` 에 따라 반환값 자료형이 명시되어 있지 않은 함수의 반환형은 묵시적으로 int로 가정한다.
> 이 문법은 C99 표준에서부터 폐기되었다. 하지만 많은 컴파일러에서 여전히 돌아가고 있다. 
> 그리고 처음에 설명할 때 있어서도 이렇게 작성하는 편이 낫다고 생각한다.
> 아직 함수가 뭔지 배우지도 않았는데 함수에는 반환형이라는 것이 있고 어쩌고저쩌고 하면서 설명하는 것도 더 머리를 꼬이게 만든다고 생각한다.
> 한마디로 말하면 반환값의 자료형이 명시되어 있지 않은 경우 int를 반환하는 걸로 생각해 준다는 것이다.
> 또한 반환값도 없을 경우 자동으로 0을 반환해 준다. 따라서 위 코드는 C89기준으로 아무 문제가 없다.

이를 gcc가 설치된 터미널에서 `gcc hello.c` 로 컴파일하고 `./a.out`을 열어보면 `hello, world` 가 나오는 것을 볼 수 있다.
뭔가 나와서 신기하긴 한데 대체 어떤 규칙에 따라 돌아가는 것인지 알 수가 없다. 한 줄씩 뜯어보자.

`#include <stdio.h>`

이 줄은 컴파일러에게, 표준 입출력 라이브러리(stdio는 standard input/output의 약자이다)를 쓰겠다고 알려 주는 것이다.
>사실은 그 라이브러리의 코드를 복사+붙여넣기 한 후에 코드를 실행시키라는 지시이기는 하다. 
>하지만 지금은 그냥 입출력함수를 쓰게 해 주는 역할을 한다는 정도만 생각하면 된다.

`main()`
C언어 프로그램의 실행은 언제나 메인함수부터 시작한다. 어떤 구조로 코드를 짜던지 간에 코드의 실행은 메인함수의 내용부터 실행된다고 생각하면 된다.
main의 내용 외에 다른 함수 내부에 있는 코드가 먼저 실행된다든지 하는 일은 없다. 이는 main이라는 이름의 함수에 대해 정해진 규칙이다.
따라서 일반적으로 함수의 이름은 자유롭게 정할 수 있지만 main이라는 이름은 예외이다. 즉 이번 줄은 프로그램이 실행하는 내용의 시작을 알리는 것이라고 생각하면 된다.
또 함수의 내용은 함수 이름 뒤에 오는 중괄호 내부에 있다. 따라서 `main()` 뒤에 오는 중괄호 내부의 내용이, 프로그램이 실행하는 내용이라고 보면 된다.
그런데 `main`은 함수 이름이라고 치고, 그 뒤에 오는 소괄호는 뭘까? 그건 함수의 인자(argument)를 뜻한다. 함수들 간에 정보를 주고받는 방식은 함수 호출시에
해당하는 인자를 주는 방식이다. `int main(int argc, char* argv[])` 등으로 main함수에 인자를 줄 수도 있다. 이런 방식은 나중에 보도록 하자.

`printf("hello, world\n");`
함수 `printf`에 인자 `"hello, world\n"`을 전달하면서 호출한다. 이때 `printf`는 <stdio.h> 에 포함되어 있는 출력 함수이다.
인자로 받은 format string을 출력하는 것인데, 자세한 내용은 나중에 다루고 지금은 그냥 적당히 인자를 받아서 출력해 주는 함수라고 생각하면 된다.
그리고 큰따옴표 안에 있는 `\n`은 개행을 뜻한다. 개행이나 탭과 같은 문자는 쉽게 표현할 수 없으니 `\`를 붙여서 이스케이프 문자라는 걸로 표기한다.
만약 `\n`없이 프로그램을 실행하면 출력된 `hello, world`뒤에 개행이 없어질 것이다.

>개행 외에도 탭이나 폼 피드, 백스페이스와 같은 다른 이스케이프 문자들도 있다. 
> 중간중간 몇 개씩 등장할 것이고, 나중에는 이스케이프 문자들에 대해 한번 정리할 것이다.

이때 `printf`는 절대 자동으로 개행을 넣어 주지 않으며 개행은 반드시 이스케이프 문자 `\n`을 이용해서 표기해야 한다는 것을 주의하자.
만약 문자열 내에 개행을 그대로 넣어 주겠다는 생각으로 
`printf("hello, world
");`
와 같은 코드를 짠다면 바로 에러 코드를 보게 될 것이다.
물론 이스케이프 문자보다는 그냥 엔터키로 개행을 넣어 주는 것이 직관적이기에 좀더 최신 언어들은 Python의 삼중 따옴표나
Javascript의 템플릿 리터럴 같은 방식으로 개행을 그대로 출력해 주는 방식을 쓰기도 하지만 C같은 고전적인 언어에서는 어림없다.
C가 굉장히 오래된 언어라는 것을 늘 상기하도록 하자.

따라서 `printf`를 여러 번 호출하여 하나의 문자열을 나눠서 출력하는 것도 가능하다.
```c
#include <stdio.h>

main()
{
    printf("hello, wor");
    printf("ld\n");
}
```